<!doctype html>
<html lang='en'>
<head>
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width'>
  <script type="text/javascript" src="https://rawgit.com/mrdoob/three.js/master/build/three.min.js"></script>
  <!-- <script type="text/javascript" src="http://www.blurspline.com/labs/3d/bunny/SimplifyModifier.js"></script> -->
  <script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
  <script type="text/javascript" src="https://unpkg.com/three-solid@latest/dist/three-solid.min.js"></script>

  <script type="text/javascript">
    var renderer, scene, camera, light;
    window.onload = function() {
      renderer = new THREE.WebGLRenderer({ antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.getElementById("viewport").appendChild(renderer.domElement);

      scene = new THREE.Scene();

      camera = new THREE.PerspectiveCamera(
        35,
        window.innerWidth / window.innerHeight,
        1,
        1000
      );
      camera.position.set(5, 5, 15);
      camera.lookAt(scene.position);
      scene.add(camera);
      const controls = new THREE.OrbitControls( camera, renderer.domElement );
      // var modifer = new THREE.SimplifyModifier();

      (function() {
        const mesh = new THREE.Mesh(new THREE.BoxGeometry(10,10,1), new THREE.MeshNormalMaterial());
        const mesh2 = new THREE.Mesh(new THREE.BoxGeometry(2,2,5), new THREE.MeshBasicMaterial({color: 'red', opacity: 0.5, transparent: true}));
        var geoBSP = (new ThreeSolid(mesh)).subtract(new ThreeSolid(mesh2));
        var result = geoBSP.toMesh(new THREE.MeshNormalMaterial());
        result.geometry.mergeVertices();

        scene.add(mesh2);
        scene.add(result);
      })();

      (function render() {
        requestAnimationFrame(render);
        renderer.render(scene, camera);
      })();
    };

  </script>

  <style type="text/css">
    html,
    body {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
  </style>
</head>

<body>
  <div id="viewport" />
</body>
</html>
